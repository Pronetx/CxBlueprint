{
  "Version": "2019-10-30",
  "StartAction": "995c1365-775e-4953-8600-4142df1a8822",
  "Metadata": {
    "entryPointPosition": {
      "x": 0,
      "y": 0
    },
    "snapToGrid": false,
    "ActionMetadata": {
      "995c1365-775e-4953-8600-4142df1a8822": {
        "position": {
          "x": 153.6,
          "y": 38.4
        }
      },
      "a1091532-dbda-4ace-b40f-d4ed5c9336b4": {
        "position": {
          "x": 614.4,
          "y": 230.39999999999998
        }
      },
      "513f23d3-f61b-4600-af23-4b54e15f8e42": {
        "position": {
          "x": 1075.2,
          "y": 422.4
        }
      },
      "f71bc7a6-9657-4805-bbc9-514eb5827a14": {
        "position": {
          "x": 1305.6,
          "y": 422.4
        }
      },
      "667dde44-f17c-429c-8074-ec4f9c52b42a": {
        "position": {
          "x": 1536.0,
          "y": 422.4
        }
      },
      "dcd1df95-ca21-4d41-b351-72ea10ceddb9": {
        "position": {
          "x": 1766.3999999999999,
          "y": 422.4
        }
      },
      "1502734b-bea5-4495-b4e9-8a5ef9f313a8": {
        "position": {
          "x": 1996.8,
          "y": 633.6
        }
      },
      "61c793a1-cd10-477b-a638-459354f6b4f9": {
        "position": {
          "x": 2227.2,
          "y": 633.6
        }
      },
      "95b43f58-21b3-4e2a-8fe3-6c506568c074": {
        "position": {
          "x": 2457.6,
          "y": 633.6
        }
      },
      "071ba84e-bcf7-4c07-9b35-6593799cdfdf": {
        "position": {
          "x": 2688.0,
          "y": 633.6
        }
      },
      "ef1d65ab-838e-4305-b345-ddb7b13036aa": {
        "position": {
          "x": 2918.4,
          "y": 825.6
        }
      },
      "5c4dfb17-f587-414d-88e9-a83ff35edb56": {
        "position": {
          "x": 3148.7999999999997,
          "y": 825.6
        }
      },
      "b373b85d-3e69-4f20-a902-9d8113d83cc2": {
        "position": {
          "x": 3379.2,
          "y": 825.6
        }
      },
      "eee9adf7-17af-4ffa-9afe-d1fe29e9936f": {
        "position": {
          "x": 3609.6,
          "y": 825.6
        }
      },
      "a8dd6470-0d2b-4ff6-95cb-18734c19d1ce": {
        "position": {
          "x": 3840.0,
          "y": 1017.5999999999999
        }
      },
      "ec24e3ac-311e-4921-af3d-66fd01c6abbe": {
        "position": {
          "x": 4070.3999999999996,
          "y": 1017.5999999999999
        }
      },
      "d110ead3-9aeb-45c0-891d-610fff0533ba": {
        "position": {
          "x": 4300.8,
          "y": 1209.6
        }
      }
    },
    "Annotations": []
  },
  "Actions": [
    {
      "Identifier": "995c1365-775e-4953-8600-4142df1a8822",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Welcome to our advanced support system."
      },
      "Transitions": {
        "NextAction": "a1091532-dbda-4ace-b40f-d4ed5c9336b4"
      }
    },
    {
      "Identifier": "a1091532-dbda-4ace-b40f-d4ed5c9336b4",
      "Type": "GetParticipantInput",
      "Parameters": {
        "Text": "Press 1 for account info, 2 for technical support, or 3 for billing.",
        "InputTimeLimitSeconds": "10",
        "StoreInput": "False"
      },
      "Transitions": {
        "Conditions": [
          {
            "NextAction": "513f23d3-f61b-4600-af23-4b54e15f8e42",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "1"
              ]
            }
          },
          {
            "NextAction": "f71bc7a6-9657-4805-bbc9-514eb5827a14",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "2"
              ]
            }
          },
          {
            "NextAction": "667dde44-f17c-429c-8074-ec4f9c52b42a",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "3"
              ]
            }
          }
        ],
        "Errors": [
          {
            "NextAction": "dcd1df95-ca21-4d41-b351-72ea10ceddb9",
            "ErrorType": "NoMatchError"
          }
        ]
      }
    },
    {
      "Identifier": "513f23d3-f61b-4600-af23-4b54e15f8e42",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Let me check your balance..."
      },
      "Transitions": {
        "NextAction": "1502734b-bea5-4495-b4e9-8a5ef9f313a8"
      }
    },
    {
      "Identifier": "1502734b-bea5-4495-b4e9-8a5ef9f313a8",
      "Type": "InvokeLambdaFunction",
      "Parameters": {
        "LambdaFunctionARN": "{{BALANCE_LAMBDA_ARN}}",
        "InvocationTimeLimitSeconds": "10"
      },
      "Transitions": {
        "NextAction": "ef1d65ab-838e-4305-b345-ddb7b13036aa"
      }
    },
    {
      "Identifier": "ef1d65ab-838e-4305-b345-ddb7b13036aa",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Your current balance is..."
      },
      "Transitions": {
        "NextAction": "a8dd6470-0d2b-4ff6-95cb-18734c19d1ce"
      }
    },
    {
      "Identifier": "f71bc7a6-9657-4805-bbc9-514eb5827a14",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Connecting you to our AI technical assistant..."
      },
      "Transitions": {
        "NextAction": "61c793a1-cd10-477b-a638-459354f6b4f9"
      }
    },
    {
      "Identifier": "61c793a1-cd10-477b-a638-459354f6b4f9",
      "Type": "ConnectParticipantWithLexBot",
      "Parameters": {
        "Text": "How can I help you with technical support today?",
        "LexV2Bot": {
          "AliasArn": "{{LEX_BOT_ARN}}"
        },
        "LexSessionAttributes": {
          "category": "technical"
        }
      },
      "Transitions": {
        "Conditions": [
          {
            "NextAction": "5c4dfb17-f587-414d-88e9-a83ff35edb56",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "ResetPassword"
              ]
            }
          }
        ]
      }
    },
    {
      "Identifier": "5c4dfb17-f587-414d-88e9-a83ff35edb56",
      "Type": "InvokeLambdaFunction",
      "Parameters": {
        "LambdaFunctionARN": "{{RESET_PASSWORD_LAMBDA_ARN}}",
        "InvocationTimeLimitSeconds": "8"
      },
      "Transitions": {
        "NextAction": "ec24e3ac-311e-4921-af3d-66fd01c6abbe"
      }
    },
    {
      "Identifier": "ec24e3ac-311e-4921-af3d-66fd01c6abbe",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "I've sent a password reset link to your email."
      },
      "Transitions": {
        "NextAction": "a8dd6470-0d2b-4ff6-95cb-18734c19d1ce"
      }
    },
    {
      "Identifier": "667dde44-f17c-429c-8074-ec4f9c52b42a",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Let me pull up your billing information..."
      },
      "Transitions": {
        "NextAction": "95b43f58-21b3-4e2a-8fe3-6c506568c074"
      }
    },
    {
      "Identifier": "95b43f58-21b3-4e2a-8fe3-6c506568c074",
      "Type": "ShowView",
      "Parameters": {
        "ViewResource": {
          "Id": "{{BILLING_VIEW_ID}}",
          "Version": "1.0"
        },
        "ViewData": {
          "type": "billing",
          "detailed": "true"
        }
      },
      "Transitions": {
        "NextAction": "b373b85d-3e69-4f20-a902-9d8113d83cc2"
      }
    },
    {
      "Identifier": "b373b85d-3e69-4f20-a902-9d8113d83cc2",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "I've displayed your billing details."
      },
      "Transitions": {
        "NextAction": "a8dd6470-0d2b-4ff6-95cb-18734c19d1ce"
      }
    },
    {
      "Identifier": "dcd1df95-ca21-4d41-b351-72ea10ceddb9",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "I didn't understand your selection. Let me create a support ticket."
      },
      "Transitions": {
        "NextAction": "071ba84e-bcf7-4c07-9b35-6593799cdfdf"
      }
    },
    {
      "Identifier": "071ba84e-bcf7-4c07-9b35-6593799cdfdf",
      "Type": "CreateTask",
      "Parameters": {
        "Name": "Customer Support Request",
        "Description": "Follow up on unclear customer input",
        "TemplateId": "{{SUPPORT_TASK_TEMPLATE}}",
        "Priority": "2"
      },
      "Transitions": {
        "NextAction": "eee9adf7-17af-4ffa-9afe-d1fe29e9936f"
      }
    },
    {
      "Identifier": "eee9adf7-17af-4ffa-9afe-d1fe29e9936f",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "A support representative will contact you shortly."
      },
      "Transitions": {
        "NextAction": "a8dd6470-0d2b-4ff6-95cb-18734c19d1ce"
      }
    },
    {
      "Identifier": "a8dd6470-0d2b-4ff6-95cb-18734c19d1ce",
      "Type": "MessageParticipant",
      "Parameters": {
        "Text": "Thank you for contacting us. Goodbye!"
      },
      "Transitions": {
        "NextAction": "d110ead3-9aeb-45c0-891d-610fff0533ba"
      }
    },
    {
      "Identifier": "d110ead3-9aeb-45c0-891d-610fff0533ba",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    }
  ]
}